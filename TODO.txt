- mirroring: make it fully dynamic like BadDudes
- DB16: write blank char doesn't work in 2BA9: debug: comes and goes, super annoying
- remove static sprites that hide scenery (not in japan version: NY & LA): sprite codes identified, now don't dump them
- keep ripping levels sprites

- better bank switching: use A5 for bank base to get more speed
- release mode: no backgrounds
- still some frames that appear missing (red) when all frames have been registered <=== ******
- fmode=3!! bplmod, ddfstop, pal copperlist & scroll table
  - rip sounds

- identify colors used only on top of tiles: create an array with "palette entry => min/max y" for each color of the background

- create Pistorm/vampire version with 128 colors
- create AGA version with 64 colors
- create ECS version with 32 colors

optims:

- draw poles in one big group? and in background!
- more horizontal grouping (x3/x4) marginal gain as not often displayed

minor:

- still missing some black pixels (big score sprites) why????
- hawaii: X scrolling wraps only in that case grrrrrr

optims

- 50Hz enabled for Pistorm 128 color version

- level 1 then map context: make a kludge to avoid having to reload level 1 tiles+sprites after map
  we can probably load map with level 1 tiles+sprites loaded but that won't work for higher levels
  so maybe create a context only for "select player" screen (with only a few tiles/sprites) and make a
  special case using screen type variable on top of palette value

converter:
- if SBC_IMM	0x00 found later, don't optimize sbc into sub!
- flag manipulation can sometimes just use ANDI/ORI/EORI CCR to be faster!
- addx: set Z flag before
- sbcd/abcd warning: check bpl flag afterwards, change to bcc
- alternating OP_W_ON_ZP_ADDRESS and OP_R_ON_ZP_ADDRESS: remove PUSH/POP SR
- add or addx + addq + addx without jmp/jra/rts/CLR_XC_FLAGS/lsr/lsl/asr/asl/ror/rol => error



- more accurate irq period (do irqs after pal wait if possible, at least 1 should be possible!)

start log regs: f519: start ball (serve)

debug bankswitch change on MAME (22D is the copy in readable memory):
doesn't work as 22D is sometimes updated BEFORE bankswitch

wpset 1009,1,W,wpdata!=b@22D

* eaff writes 60 continuously, not interesting:

wpset 1009,1,W,pc!=$eaff

fix random (so demo does exactly the same each time!):

bpset D00A,,{A=0;PC=AFFE;g}

log sound:

wpset 100D,1,W,,{print A,g}

identify each music as there are cut-scenes & other stuff removed from US version!!!
2: select/start music
5: intro music

9: level 1 music
8: level 4 music
7: level 3 music
6: level 2 music
4: unknown??
3: stressful level end music (finish)

A: unknown blues??? cut scene
B: unknown blues??? the same??? cut scene
c: short tune
D: naval base last level music
E: lost!
F: ominous very short tune
10: game over???
11: credit inserted
12: another upbeat music
13: short upbeat
14: won!
15: unknown ???
16: sfx....

$34/$1F ?: credit inserted
